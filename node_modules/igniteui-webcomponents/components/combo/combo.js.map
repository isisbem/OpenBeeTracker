{"version":3,"file":"combo.js","sourceRoot":"","sources":["../../../src/components/combo/combo.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, LitElement, TemplateResult } from 'lit';\nimport { themes } from '../../theming/theming-decorator.js';\nimport { styles } from './themes/light/combo.base.css.js';\nimport { styles as bootstrap } from './themes/light/combo.bootstrap.css.js';\nimport { styles as material } from './themes/light/combo.material.css.js';\nimport { styles as fluent } from './themes/light/combo.fluent.css.js';\nimport { styles as indigo } from './themes/light/combo.indigo.css.js';\nimport {\n  property,\n  query,\n  queryAssignedElements,\n  state,\n} from 'lit/decorators.js';\nimport { watch } from '../common/decorators/watch.js';\nimport { defineComponents } from '../common/definitions/defineComponents.js';\nimport IgcComboListComponent from './combo-list.js';\nimport IgcComboItemComponent from './combo-item.js';\nimport IgcComboHeaderComponent from './combo-header.js';\nimport IgcInputComponent from '../input/input.js';\nimport IgcIconComponent from '../icon/icon.js';\nimport { NavigationController } from './controllers/navigation.js';\nimport { SelectionController } from './controllers/selection.js';\nimport { IgcToggleController } from '../toggle/toggle.controller.js';\nimport { DataController } from './controllers/data.js';\nimport { IgcToggleComponent } from '../toggle/types.js';\nimport {\n  Keys,\n  ComboRecord,\n  GroupingDirection,\n  FilteringOptions,\n  IgcComboEventMap,\n  ComboItemTemplate,\n  Item,\n} from './types.js';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { partNameMap } from '../common/util.js';\nimport { filteringOptionsConverter } from './utils/converters.js';\nimport { EventEmitterMixin } from '../common/mixins/event-emitter.js';\nimport { Constructor } from '../common/mixins/constructor.js';\nimport type { ThemeController, Theme } from '../../theming/types.js';\nimport { blazorAdditionalDependencies } from '../common/decorators/blazorAdditionalDependencies.js';\nimport { blazorIndirectRender } from '../common/decorators/blazorIndirectRender.js';\n\ndefineComponents(\n  IgcIconComponent,\n  IgcComboListComponent,\n  IgcComboItemComponent,\n  IgcComboHeaderComponent,\n  IgcInputComponent\n);\n\n/**\n * @element igc-combo\n *\n * @slot prefix - Renders content before the input.\n * @slot suffix - Renders content after input.\n * @slot header - Renders a container before the list of options.\n * @slot footer - Renders a container after the list of options.\n * @slot helper-text - Renders content below the input.\n * @slot toggle-icon - Renders content inside the suffix container.\n * @slot clear-icon - Renders content inside the suffix container.\n *\n * @fires igcFocus - Emitted when the select gains focus.\n * @fires igcBlur - Emitted when the select loses focus.\n * @fires igcChange - Emitted when the control's selection has changed.\n * @fires igcOpening - Emitted just before the list of options is opened.\n * @fires igcOpened - Emitted after the list of options is opened.\n * @fires igcClosing - Emitter just before the list of options is closed.\n * @fires igcClosed - Emitted after the list of options is closed.\n *\n * @csspart label - The encapsulated text label.\n * @csspart input - The main input field.\n * @csspart native-input - The native input of the main input field.\n * @csspart prefix - The prefix wrapper.\n * @csspart suffix - The suffix wrapper.\n * @csspart toggle-icon - The toggle icon wrapper.\n * @csspart clear-icon - The clear icon wrapper.\n * @csspart case-icon - The case icon wrapper.\n * @csspart helper-text - The helper text wrapper.\n * @csspart search-input - The search input field.\n * @csspart list-wrapper - The list of options wrapper.\n * @csspart list - The list of options box.\n * @csspart item - Represents each item in the list of options.\n * @csspart group-header - Represents each header in the list of options.\n * @csspart active - Appended to the item parts list when the item is active.\n * @csspart selected - Appended to the item parts list when the item is selected.\n * @csspart checkbox - Represents each checkbox of each list item.\n * @csspart checkbox-indicator - Represents the checkbox indicator of each list item.\n * @csspart checked - Appended to checkbox parts list when checkbox is checked.\n * @csspart header - The container holding the header content.\n * @csspart footer - The container holding the footer content.\n * @csspart empty - The container holding the empty content.\n */\n@themes({ material, bootstrap, fluent, indigo })\n@blazorAdditionalDependencies('IgcIconComponent, IgcInputComponent')\n@blazorIndirectRender\n// TODO: pressing arrow down should scroll to the selected item\nexport default class IgcComboComponent<T extends object>\n  extends EventEmitterMixin<IgcComboEventMap, Constructor<LitElement>>(\n    LitElement\n  )\n  implements Partial<IgcToggleComponent>\n{\n  public static readonly tagName = 'igc-combo';\n  public static styles = styles;\n  private _value = '';\n\n  protected navigationController = new NavigationController<T>(this);\n  protected selectionController = new SelectionController<T>(this);\n  protected dataController = new DataController<T>(this);\n  protected toggleController!: IgcToggleController;\n  protected themeController!: ThemeController;\n  protected theme!: Theme;\n\n  @queryAssignedElements({ slot: 'helper-text' })\n  protected helperText!: Array<HTMLElement>;\n\n  @queryAssignedElements({ slot: 'suffix' })\n  protected inputSuffix!: Array<HTMLElement>;\n\n  @queryAssignedElements({ slot: 'prefix' })\n  protected inputPrefix!: Array<HTMLElement>;\n\n  @query('[part=\"search-input\"]')\n  protected input!: IgcInputComponent;\n\n  @query('igc-input#target')\n  private target!: IgcInputComponent;\n\n  @query('igc-combo-list')\n  private list!: IgcComboListComponent;\n\n  /** The data source used to generate the list of options. */\n  /* treatAsRef */\n  /* blazorAlternateType: object */\n  @property({ attribute: false })\n  public data: Array<T> = [];\n\n  /**\n   * The name attribute of the control.\n   * @attr name\n   */\n  @property()\n  public name!: string;\n\n  /**\n   * The disabled attribute of the control.\n   * @attr disabled\n   */\n  @property({ reflect: true, type: Boolean })\n  public disabled = false;\n\n  /**\n   * The required attribute of the control.\n   * @attr required\n   */\n  @property({ reflect: true, type: Boolean })\n  public required = false;\n\n  /**\n   * The invalid attribute of the control.\n   * @attr invalid\n   */\n  @property({ reflect: true, type: Boolean })\n  public invalid = false;\n\n  /**\n   * The outlined attribute of the control.\n   * @attr outlined\n   */\n  @property({ reflect: true, type: Boolean })\n  public outlined = false;\n\n  /**\n   * Enables single selection mode and moves item filtering to the main input.\n   * @attr single-select\n   */\n  @property({ attribute: 'single-select', reflect: true, type: Boolean })\n  public singleSelect = false;\n\n  /**\n   * The autofocus attribute of the control.\n   * @attr autofocus\n   */\n  @property({ type: Boolean })\n  public override autofocus!: boolean;\n\n  /**\n   * Focuses the list of options when the menu opens.\n   * @attr autofocus-list\n   */\n  @property({ attribute: 'autofocus-list', type: Boolean })\n  public autofocusList = false;\n\n  /**\n   * The label attribute of the control.\n   * @attr label\n   */\n  @property({ type: String })\n  public label!: string;\n\n  /**\n   * The placeholder attribute of the control.\n   * @attr placeholder\n   */\n  @property({ type: String })\n  public placeholder!: string;\n\n  /**\n   * The placeholder attribute of the search input.\n   * @attr placeholder-search\n   */\n  @property({ attribute: 'placeholder-search', type: String })\n  public placeholderSearch = 'Search';\n\n  /**\n   * The direction attribute of the control.\n   * @attr dir\n   */\n  @property({ reflect: true })\n  public override dir: 'ltr' | 'rtl' | 'auto' = 'auto';\n\n  /**\n   * Sets the open state of the component.\n   * @attr open\n   */\n  @property({ type: Boolean })\n  public open = false;\n\n  /** @hidden @internal */\n  @property({ type: Boolean })\n  public flip = true;\n\n  /* blazorAlternateType: string */\n  /**\n   * The key in the data source used when selecting items.\n   * @attr value-key\n   */\n  @property({ attribute: 'value-key', reflect: false })\n  public valueKey?: Keys<T>;\n\n  /* blazorAlternateType: string */\n  /**\n   * The key in the data source used to display items in the list.\n   * @attr display-key\n   */\n  @property({ attribute: 'display-key', reflect: false })\n  public displayKey?: Keys<T> = this.valueKey;\n\n  /* blazorAlternateType: string */\n  /**\n   * The key in the data source used to group items in the list.\n   * @attr group-key\n   */\n  @property({ attribute: 'group-key', reflect: false })\n  public groupKey?: Keys<T> = this.displayKey;\n\n  /**\n   * Sorts the items in each group by ascending or descending order.\n   * @attr group-sorting\n   * @type {\"asc\" | \"desc\"}\n   */\n  @property({ attribute: 'group-sorting', reflect: false })\n  public groupSorting: GroupingDirection = 'asc';\n\n  /**\n   * An object that configures the filtering of the combo.\n   * @attr filtering-options\n   * @type {FilteringOptions<T>}\n   * @param filterKey - The key in the data source used when filtering the list of options.\n   * @param caseSensitive - Determines whether the filtering operation should be case sensitive.\n   */\n  @property({\n    attribute: 'filtering-options',\n    reflect: false,\n    converter: filteringOptionsConverter,\n  })\n  public filteringOptions: FilteringOptions<T> = {\n    filterKey: this.displayKey,\n    caseSensitive: false,\n  };\n\n  /**\n   * Enables the case sensitive search icon in the filtering input.\n   * @attr case-sensitive-icon\n   */\n  @property({ type: Boolean, attribute: 'case-sensitive-icon', reflect: false })\n  public caseSensitiveIcon = false;\n\n  /**\n   * Disables the filtering of the list of options.\n   * @attr disable-filtering\n   */\n  @property({ type: Boolean, attribute: 'disable-filtering', reflect: false })\n  public disableFiltering = false;\n\n  /* blazorSuppress */\n  /**\n   * The template used for the content of each combo item.\n   * @type {ComboItemTemplate<T>}\n   */\n  @property({ attribute: false })\n  public itemTemplate: ComboItemTemplate<T> = ({ item }) => {\n    if (typeof item !== 'object' || item === null) {\n      return String(item) as any;\n    }\n\n    if (this.displayKey) {\n      return html`${item[this.displayKey]}`;\n    }\n\n    return html`${String(item)}`;\n  };\n\n  /* blazorSuppress */\n  /**\n   * The template used for the content of each combo group header.\n   * @type {ComboItemTemplate<T>}\n   */\n  @property({ attribute: false })\n  public groupHeaderTemplate: ComboItemTemplate<T> = ({ item }) => {\n    return html`${this.groupKey && item[this.groupKey]}`;\n  };\n\n  @state()\n  protected dataState: Array<ComboRecord<T>> = [];\n\n  @watch('data')\n  protected dataChanged() {\n    this.dataState = structuredClone(this.data) as ComboRecord<T>[];\n\n    if (this.hasUpdated) {\n      this.pipeline();\n    }\n  }\n\n  @watch('valueKey')\n  protected updateDisplayKey() {\n    this.displayKey = this.displayKey ?? this.valueKey;\n  }\n\n  @watch('displayKey')\n  protected updateFilterKey() {\n    this.filteringOptions.filterKey =\n      this.filteringOptions.filterKey ?? this.displayKey;\n  }\n\n  @watch('groupKey')\n  @watch('groupSorting')\n  @watch('pipeline')\n  protected async pipeline() {\n    this.dataState = await this.dataController.apply([...this.data]);\n  }\n\n  @watch('open')\n  protected toggleDirectiveChange() {\n    if (!this.target) return;\n    this.toggleController.target = this.target;\n    this.target.setAttribute('aria-expanded', this.open ? 'true' : 'false');\n  }\n\n  constructor() {\n    super();\n\n    this.toggleController = new IgcToggleController(this, {\n      target: this.target,\n      closeCallback: async () => {\n        if (!this.handleClosing()) return;\n        this.open = false;\n\n        await this.updateComplete;\n        this.emitEvent('igcClosed');\n      },\n    });\n\n    this.addEventListener('focus', () => {\n      this.emitEvent('igcFocus');\n    });\n\n    this.addEventListener('blur', () => {\n      const { selected } = this.selectionController;\n\n      if (selected.size === 0) {\n        this.target.value = '';\n        this.resetSearchTerm();\n      }\n\n      this.emitEvent('igcBlur');\n    });\n\n    this.addEventListener(\n      'keydown',\n      this.navigationController.navigateHost.bind(this.navigationController)\n    );\n  }\n\n  protected themeAdopted(controller: ThemeController) {\n    this.themeController = controller;\n  }\n\n  protected override willUpdate() {\n    this.theme = this.themeController.theme;\n  }\n\n  protected override async getUpdateComplete() {\n    const result = await super.getUpdateComplete();\n    await this.toggleController.rendered;\n    return result;\n  }\n\n  protected resetSearchTerm() {\n    this.dataController.searchTerm = '';\n  }\n\n  @watch('singleSelect', { waitUntilFirstUpdate: true })\n  protected async resetState() {\n    await this.updateComplete;\n\n    this.selectionController.selected.clear();\n    this.updateValue();\n    this.resetSearchTerm();\n    this.navigationController.active = -1;\n  }\n\n  /**\n   * Returns the current selection as a list of commma separated values,\n   * represented by the display key, when provided.\n   */\n  public get value() {\n    return this._value;\n  }\n\n  protected async updateValue() {\n    this._value = this.selectionController.getValue(\n      Array.from(this.selectionController.selected)\n    );\n\n    await this.updateComplete;\n    this.target.value = this._value;\n  }\n\n  @watch('value')\n  protected validate() {\n    this.updateComplete.then(() => this.reportValidity());\n  }\n\n  /** Checks the validity of the control. */\n  public reportValidity() {\n    this.invalid = this.required && !this.value;\n    return !this.invalid;\n  }\n\n  /** A wrapper around the reportValidity method to comply with the native input API. */\n  public checkValidity() {\n    return this.reportValidity();\n  }\n\n  /* alternateName: focusComponent */\n  /** Sets focus on the component. */\n  public override focus(options?: FocusOptions) {\n    this.target.focus(options);\n  }\n\n  /* alternateName: blurComponent */\n  /** Removes focus from the component. */\n  public override blur() {\n    this.target.blur();\n  }\n\n  protected normalizeSelection(items: Item<T> | Item<T>[] = []): Item<T>[] {\n    return Array.isArray(items) ? items : [items];\n  }\n\n  /**\n   * Selects option(s) in the list by either reference or valueKey.\n   * If not argument is provided all items will be selected.\n   * @param { Item<T> | Items<T> } items - One or more items to be selected. Multiple items should be passed as an array.\n   * When valueKey is specified, the corresponding value should be used in place of the item reference.\n   * @example\n   * ```typescript\n   * const combo<IgcComboComponent<T>> = document.querySelector('igc-combo');\n   *\n   * // Select one item at a time by reference when valueKey is not specified.\n   * combo.select(combo.data[0]);\n   *\n   * // Select multiple items at a time by reference when valueKey is not specified.\n   * combo.select([combo.data[0], combo.data[1]]);\n   *\n   * // Select one item at a time when valueKey is specified.\n   * combo.select('BG01');\n   *\n   * // Select multiple items at a time when valueKey is specified.\n   * combo.select(['BG01', 'BG02']);\n   * ```\n   */\n  public select(items?: Item<T> | Item<T>[]) {\n    const _items = this.normalizeSelection(items);\n    this.selectionController.select(_items, false);\n    this.list.requestUpdate();\n    this.updateValue();\n  }\n\n  /**\n   * Deselects option(s) in the list by either reference or valueKey.\n   * If not argument is provided all items will be deselected.\n   * @param { Item<T> | Items<T> } items - One or more items to be deselected. Multiple items should be passed as an array.\n   * When valueKey is specified, the corresponding value should be used in place of the item reference.\n   * @example\n   * ```typescript\n   * const combo<IgcComboComponent<T>> = document.querySelector('igc-combo');\n   *\n   * // Deselect one item at a time by reference when valueKey is not specified.\n   * combo.deselect(combo.data[0]);\n   *\n   * // Deselect multiple items at a time by reference when valueKey is not specified.\n   * combo.deselect([combo.data[0], combo.data[1]]);\n   *\n   * // Deselect one item at a time when valueKey is specified.\n   * combo.deselect('BG01');\n   *\n   * // Deselect multiple items at a time when valueKey is specified.\n   * combo.deselect(['BG01', 'BG02']);\n   * ```\n   */\n  public deselect(items?: Item<T> | Item<T>[]) {\n    const _items = this.normalizeSelection(items);\n    this.selectionController.deselect(_items, false);\n    this.list.requestUpdate();\n    this.updateValue();\n  }\n\n  protected async handleMainInput(e: CustomEvent) {\n    this._show();\n    this.dataController.searchTerm = e.detail;\n\n    // wait for the dataState to update after filtering\n    await this.updateComplete;\n\n    const matchIndex = this.dataState.findIndex((i) => !i.header);\n    this.navigationController.active = e.detail.length > 0 ? matchIndex : -1;\n\n    // update the list after changing the active item\n    this.list.requestUpdate();\n\n    // clear the selection upon typing\n    this.clearSingleSelection();\n  }\n\n  protected handleSearchInput(e: CustomEvent) {\n    this.dataController.searchTerm = e.detail;\n  }\n\n  protected handleOpening() {\n    const args = { cancelable: true };\n    return this.emitEvent('igcOpening', args);\n  }\n\n  protected handleClosing(): boolean {\n    const args = { cancelable: true };\n    return this.emitEvent('igcClosing', args);\n  }\n\n  protected async _show(emit = true) {\n    if (this.open) return;\n    if (emit && !this.handleOpening()) return;\n    this.open = true;\n\n    await this.updateComplete;\n    emit && this.emitEvent('igcOpened');\n\n    if (!this.singleSelect) {\n      this.list.focus();\n    }\n\n    if (!this.autofocusList) {\n      this.input.focus();\n    }\n  }\n\n  /** Shows the list of options. */\n  public show() {\n    this._show(false);\n  }\n\n  protected async _hide(emit = true) {\n    if (!this.open) return;\n    if (emit && !this.handleClosing()) return;\n    this.open = false;\n\n    await this.updateComplete;\n    emit && this.emitEvent('igcClosed');\n    this.navigationController.active = -1;\n  }\n\n  /** Hides the list of options. */\n  public hide() {\n    this._hide(false);\n  }\n\n  /** @hidden @internal */\n  public _toggle(emit = true) {\n    this.open ? this._hide(emit) : this._show(emit);\n  }\n\n  /** Toggles the list of options. */\n  public toggle() {\n    this._toggle(false);\n  }\n\n  protected itemRenderer = (item: T, index: number): TemplateResult => {\n    const record = item as ComboRecord<T>;\n    const dataItem = this.data.at(record.dataIndex);\n    const active = this.navigationController.active === index;\n    const selected = this.selectionController.selected.has(dataItem!);\n    const headerTemplate = html`<igc-combo-header part=\"group-header\"\n      >${this.groupHeaderTemplate({ item: record })}</igc-combo-header\n    >`;\n\n    const itemParts = partNameMap({\n      item: true,\n      selected,\n      active,\n    });\n\n    const itemTemplate = html`<igc-combo-item\n      part=\"${itemParts}\"\n      exportparts=\"checkbox, checkbox-indicator, checked\"\n      @click=${this.itemClickHandler.bind(this)}\n      .index=${index}\n      .active=${active}\n      ?selected=${selected}\n      ?hide-checkbox=${this.singleSelect}\n      >${this.itemTemplate({ item: record })}</igc-combo-item\n    >`;\n\n    return html`${this.groupKey && record.header\n      ? headerTemplate\n      : itemTemplate}`;\n  };\n\n  protected listKeydownHandler(event: KeyboardEvent) {\n    const target = event\n      .composedPath()\n      .find(\n        (el) => el instanceof IgcComboListComponent\n      ) as IgcComboListComponent;\n\n    if (target) {\n      this.navigationController.navigateList(event, target);\n    }\n  }\n\n  protected itemClickHandler(event: MouseEvent) {\n    const input = this.singleSelect ? this.target : this.input;\n\n    const target = event\n      .composedPath()\n      .find(\n        (el) => el instanceof IgcComboItemComponent\n      ) as IgcComboItemComponent;\n\n    this.toggleSelect(target.index);\n    input.focus();\n\n    if (this.singleSelect) {\n      this._hide();\n    }\n  }\n\n  protected toggleSelect(index: number) {\n    const { dataIndex } = this.dataState.at(index)!;\n\n    this.selectionController.changeSelection(dataIndex);\n    this.navigationController.active = index;\n    this.updateValue();\n    this.list.requestUpdate();\n  }\n\n  protected navigateTo(item: T) {\n    this.navigationController.navigateTo(item, this.list);\n  }\n\n  protected clearSingleSelection() {\n    const { selected } = this.selectionController;\n    const selection = selected.values().next().value;\n\n    if (selection) {\n      const item = this.valueKey ? selection[this.valueKey] : selection;\n      this.selectionController.deselect([item], selected.size > 0);\n    }\n  }\n\n  protected handleClearIconClick(e: MouseEvent) {\n    e.stopPropagation();\n\n    if (this.singleSelect) {\n      this.resetSearchTerm();\n      this.clearSingleSelection();\n    } else {\n      this.selectionController.deselect([], true);\n    }\n\n    this.updateValue();\n    this.navigationController.active = -1;\n    this.list.requestUpdate();\n  }\n\n  protected handleMainInputKeydown(e: KeyboardEvent) {\n    this.navigationController.navigateMainInput(e, this.list);\n  }\n\n  protected handleSearchInputKeydown(e: KeyboardEvent) {\n    this.navigationController.navigateSearchInput(e, this.list);\n  }\n\n  protected toggleCaseSensitivity() {\n    this.filteringOptions.caseSensitive = !this.filteringOptions.caseSensitive;\n    this.requestUpdate('pipeline');\n  }\n\n  protected get hasPrefixes() {\n    return this.inputPrefix.length > 0;\n  }\n\n  protected get hasSuffixes() {\n    return this.inputSuffix.length > 0;\n  }\n\n  private renderToggleIcon() {\n    const openIcon =\n      this.theme === 'material' ? 'keyboard_arrow_up' : 'arrow_drop_up';\n    const closeIcon =\n      this.theme === 'material' ? 'keyboard_arrow_down' : 'arrow_drop_down';\n\n    return html`\n      <span slot=\"suffix\" part=\"toggle-icon\">\n        <slot name=\"toggle-icon\">\n          <igc-icon\n            name=${this.open ? openIcon : closeIcon}\n            collection=\"internal\"\n            aria-hidden=\"true\"\n          ></igc-icon>\n        </slot>\n      </span>\n    `;\n  }\n\n  private renderClearIcon() {\n    const { selected } = this.selectionController;\n    const icon = this.theme === 'material' ? 'chip_cancel' : 'clear';\n\n    return html`<span\n      slot=\"suffix\"\n      part=\"clear-icon\"\n      @click=${this.handleClearIconClick}\n      ?hidden=${selected.size === 0}\n    >\n      <slot name=\"clear-icon\">\n        <igc-icon\n          name=\"${icon}\"\n          collection=\"internal\"\n          aria-hidden=\"true\"\n        ></igc-icon>\n      </slot>\n    </span>`;\n  }\n\n  private renderMainInput() {\n    return html`<igc-input\n      id=\"target\"\n      role=\"combobox\"\n      aria-owns=\"dropdown\"\n      aria-describedby=\"helper-text\"\n      aria-disabled=${this.disabled}\n      exportparts=\"container: input, input: native-input, label, prefix, suffix\"\n      @click=${(e: MouseEvent) => {\n        e.preventDefault();\n        this._toggle(true);\n      }}\n      placeholder=${ifDefined(this.placeholder)}\n      label=${ifDefined(this.label)}\n      dir=${this.dir}\n      @igcChange=${(e: Event) => e.stopPropagation()}\n      @igcFocus=${(e: Event) => {\n        e.stopPropagation();\n\n        requestAnimationFrame(() => {\n          this.target.select();\n        });\n      }}\n      @igcBlur=${(e: Event) => e.stopPropagation()}\n      @igcInput=${this.handleMainInput}\n      @keydown=${this.handleMainInputKeydown}\n      .disabled=${this.disabled}\n      .required=${this.required}\n      .invalid=${this.invalid}\n      .outlined=${this.outlined}\n      .autofocus=${this.autofocus}\n      ?readonly=${!this.singleSelect}\n    >\n      <span slot=${this.hasPrefixes && 'prefix'}>\n        <slot name=\"prefix\"></slot>\n      </span>\n      ${this.renderClearIcon()}\n      <span slot=${this.hasSuffixes && 'suffix'}>\n        <slot name=\"suffix\"></slot>\n      </span>\n      ${this.renderToggleIcon()}\n    </igc-input>`;\n  }\n\n  private renderSearchInput() {\n    return html`<div\n      part=\"filter-input\"\n      ?hidden=${this.disableFiltering || this.singleSelect}\n    >\n      <igc-input\n        part=\"search-input\"\n        placeholder=${this.placeholderSearch}\n        exportparts=\"input: search-input\"\n        @igcFocus=${(e: Event) => e.stopPropagation()}\n        @igcBlur=${(e: Event) => e.stopPropagation()}\n        @igcInput=${this.handleSearchInput}\n        @keydown=${this.handleSearchInputKeydown}\n        dir=${this.dir}\n      >\n        <igc-icon\n          slot=${this.caseSensitiveIcon && 'suffix'}\n          name=\"case_sensitive\"\n          collection=\"internal\"\n          part=${partNameMap({\n            'case-icon': true,\n            active: this.filteringOptions.caseSensitive ?? false,\n          })}\n          @click=${this.toggleCaseSensitivity}\n        ></igc-icon>\n      </igc-input>\n    </div>`;\n  }\n\n  private renderEmptyTemplate() {\n    return html`<div part=\"empty\" ?hidden=${this.dataState.length > 0}>\n      <slot name=\"empty\">The list is empty</slot>\n    </div>`;\n  }\n\n  private renderList() {\n    return html`<div\n      @keydown=${this.listKeydownHandler}\n      part=\"list-wrapper\"\n      ${this.toggleController.toggleDirective}\n    >\n      ${this.renderSearchInput()}\n      <div part=\"header\">\n        <slot name=\"header\"></slot>\n      </div>\n      <igc-combo-list\n        id=\"dropdown\"\n        part=\"list\"\n        aria-label=\"${this.label}\"\n        .items=${this.dataState}\n        .renderItem=${this.itemRenderer}\n        ?hidden=${this.dataState.length === 0}\n      >\n      </igc-combo-list>\n      ${this.renderEmptyTemplate()}\n      <div part=\"footer\">\n        <slot name=\"footer\"></slot>\n      </div>\n    </div>`;\n  }\n\n  private renderHelperText() {\n    return html`<div\n      id=\"helper-text\"\n      part=\"helper-text\"\n      ?hidden=\"${this.helperText.length === 0}\"\n    >\n      <slot name=\"helper-text\"></slot>\n    </div>`;\n  }\n\n  protected override render() {\n    return html`\n      ${this.renderMainInput()}${this.renderList()}${this.renderHelperText()}\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'igc-combo': IgcComboComponent<object>;\n  }\n}\n"]}