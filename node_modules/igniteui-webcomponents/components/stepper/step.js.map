{"version":3,"file":"step.js","sourceRoot":"","sources":["../../../src/components/stepper/step.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, LitElement, nothing } from 'lit';\nimport { property, query, queryAssignedElements } from 'lit/decorators.js';\nimport { when } from 'lit/directives/when.js';\nimport { watch } from '../common/decorators/watch.js';\nimport { partNameMap } from '../common/util.js';\nimport { themes } from '../../theming/theming-decorator.js';\nimport { styles } from './themes/step/light/step.base.css.js';\nimport { styles as bootstrap } from './themes/step/light/step.bootstrap.css.js';\nimport { styles as indigo } from './themes/step/light/step.indigo.css.js';\nimport { styles as fluent } from './themes/step/light/step.fluent.css.js';\nimport { styles as material } from './themes/step/light/step.material.css.js';\n\n/**\n * The step component is used within the `igc-stepper` element and it holds the content of each step.\n * It also supports custom indicators, title and subtitle.\n *\n * @element igc-step\n *\n * @slot - Renders the content of the step.\n * @slot indicator - Renders the indicator of the step. By default, it displays the step index + 1.\n * @slot title - Renders the title of the step.\n * @slot subtitle - Renders the subtitle of the step.\n *\n * @csspart header-container - Wrapper of the step's `header` and its separators.\n * @csspart disabled - Indicates a disabled state. Applies to `header-container`.\n * @csspart complete-start - Indicates a complete state of the current step. Applies to `header-container`.\n * @csspart complete-end - Indicates a complete state of the previous step. Applies to `header-container`.\n * @csspart optional - Indicates an optional state. Applies to `header-container`.\n * @csspart invalid - Indicates an invalid state. Applies to `header-container`.\n * @csspart top - Indicates that the title should be above the indicator. Applies to `header-container`.\n * @csspart bottom - Indicates that the title should be below the indicator. Applies to `header-container`.\n * @csspart start - Indicates that the title should be before the indicator. Applies to `header-container`.\n * @csspart end - Indicates that the title should be after the indicator. Applies to `header-container`.\n * @csspart header - Wrapper of the step's `indicator` and `text`.\n * @csspart indicator - The indicator of the step.\n * @csspart text - Wrapper of the step's `title` and `subtitle`.\n * @csspart empty - Indicates that no title and subtitle has been provided to the step. Applies to `text`.\n * @csspart title - The title of the step.\n * @csspart subtitle - The subtitle of the step.\n * @csspart body - Wrapper of the step's `content`.\n * @csspart content - The steps `content`.\n */\n@themes({ bootstrap, indigo, fluent, material })\nexport default class IgcStepComponent extends LitElement {\n  /** @private */\n  public static readonly tagName = 'igc-step';\n  /** @private */\n  public static override styles = styles;\n\n  @queryAssignedElements({ slot: 'title' })\n  private _titleChildren!: Array<HTMLElement>;\n\n  @queryAssignedElements({ slot: 'subtitle' })\n  private _subTitleChildren!: Array<HTMLElement>;\n\n  /* blazorSuppress */\n  @query('[part~=\"header\"]')\n  public header!: HTMLElement;\n\n  /* blazorSuppress */\n  @query('[part~=\"body\"]')\n  public contentBody!: HTMLElement;\n\n  /** Gets/sets whether the step is invalid. */\n  @property({ reflect: true, type: Boolean })\n  public invalid = false;\n\n  /** Gets/sets whether the step is activ–µ. */\n  @property({ reflect: true, type: Boolean })\n  public active = false;\n\n  /**\n   * Gets/sets whether the step is optional.\n   *\n   * @remarks\n   * Optional steps validity does not affect the default behavior when the stepper is in linear mode i.e.\n   * if optional step is invalid the user could still move to the next step.\n   */\n  @property({ type: Boolean })\n  public optional = false;\n\n  /** Gets/sets whether the step is interactable. */\n  @property({ reflect: true, type: Boolean })\n  public disabled = false;\n\n  /** Gets/sets whether the step is completed.\n   *\n   * @remarks\n   * When set to `true` the following separator is styled `solid`.\n   */\n  @property({ reflect: true, type: Boolean })\n  public complete = false;\n\n  /** @private */\n  @property({ attribute: false })\n  public previousComplete = false;\n\n  /** @private */\n  @property({ attribute: false })\n  public stepType: 'indicator' | 'title' | 'full' = 'full';\n\n  /** @private */\n  @property({ attribute: false })\n  public titlePosition?: 'bottom' | 'top' | 'end' | 'start';\n\n  /** @private */\n  @property({ attribute: false })\n  public orientation: 'horizontal' | 'vertical' = 'horizontal';\n\n  /** @private */\n  @property({ attribute: false })\n  public index = -1;\n\n  /** @private */\n  @property({ attribute: false })\n  public contentTop = false;\n\n  /** @private */\n  @property({ attribute: false })\n  public linearDisabled = false;\n\n  /** @private */\n  @property({ attribute: false })\n  public visited = false;\n\n  @watch('active', { waitUntilFirstUpdate: true })\n  protected activeChange() {\n    if (this.active) {\n      this.dispatchEvent(\n        new CustomEvent('stepActiveChanged', { bubbles: true, detail: false })\n      );\n    }\n  }\n\n  @watch('disabled', { waitUntilFirstUpdate: true })\n  @watch('invalid', { waitUntilFirstUpdate: true })\n  @watch('optional', { waitUntilFirstUpdate: true })\n  protected disabledInvalidOptionalChange() {\n    this.dispatchEvent(\n      new CustomEvent('stepDisabledInvalidChanged', { bubbles: true })\n    );\n  }\n\n  @watch('complete', { waitUntilFirstUpdate: true })\n  protected completeChange() {\n    this.dispatchEvent(\n      new CustomEvent('stepCompleteChanged', { bubbles: true })\n    );\n  }\n\n  private handleClick(event: MouseEvent): void {\n    event.stopPropagation();\n    if (this.isAccessible) {\n      this.dispatchEvent(\n        new CustomEvent('stepActiveChanged', { bubbles: true, detail: true })\n      );\n    }\n  }\n\n  private handleKeydown(event: KeyboardEvent): void {\n    this.dispatchEvent(\n      new CustomEvent('stepHeaderKeydown', {\n        bubbles: true,\n        detail: { event, focusedStep: this },\n      })\n    );\n  }\n\n  public get isAccessible(): boolean {\n    return !this.disabled && !this.linearDisabled;\n  }\n\n  private get headerContainerParts() {\n    return {\n      'header-container': true,\n      disabled: !this.isAccessible,\n      'complete-start': this.complete,\n      'complete-end': this.previousComplete,\n      optional: this.optional,\n      invalid:\n        this.invalid && this.visited && !this.active && this.isAccessible,\n      top: this.titlePosition === 'top',\n      bottom:\n        this.titlePosition === 'bottom' ||\n        (this.orientation === 'horizontal' && !this.titlePosition),\n      start: this.titlePosition === 'start',\n      end:\n        this.titlePosition === 'end' ||\n        (this.orientation === 'vertical' && !this.titlePosition),\n    };\n  }\n\n  private get textParts() {\n    return {\n      text: true,\n      empty:\n        this.stepType === 'indicator'\n          ? true\n          : this.stepType === 'full' &&\n            !this._titleChildren.length &&\n            !this._subTitleChildren.length,\n    };\n  }\n\n  protected renderIndicator() {\n    if (this.stepType !== 'title') {\n      return html`\n        <div part=\"indicator\">\n          <slot name=\"indicator\">\n            <span>${this.index + 1}</span>\n          </slot>\n        </div>\n      `;\n    } else {\n      return nothing;\n    }\n  }\n\n  protected renderTitleAndSubtitle() {\n    return html`\n      <div part=\"${partNameMap(this.textParts)}\">\n        <div part=\"title\">\n          <slot name=\"title\"></slot>\n        </div>\n        <div part=\"subtitle\">\n          <slot name=\"subtitle\"></slot>\n        </div>\n      </div>\n    `;\n  }\n\n  protected renderContent() {\n    return html`<div\n      id=\"igc-step-content-${this.index}\"\n      part=\"body\"\n      role=\"tabpanel\"\n      aria-labelledby=\"igc-step-header-${this.index}\"\n    >\n      <div part=\"content\">\n        <slot></slot>\n      </div>\n    </div>`;\n  }\n\n  protected override render() {\n    return html`\n      ${when(\n        this.contentTop && this.orientation === 'horizontal',\n        () => this.renderContent(),\n        () => nothing\n      )}\n      <div part=\"${partNameMap(this.headerContainerParts)}\">\n        <div\n          part=\"header\"\n          tabindex=\"${this.active ? '0' : '-1'}\"\n          role=\"tab\"\n          aria-selected=\"${this.active}\"\n          @click=${this.handleClick}\n          @keydown=${this.handleKeydown}\n        >\n          ${this.renderIndicator()} ${this.renderTitleAndSubtitle()}\n        </div>\n      </div>\n      ${when(\n        this.orientation === 'vertical' || !this.contentTop,\n        () => this.renderContent(),\n        () => nothing\n      )}\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'igc-step': IgcStepComponent;\n  }\n}\n"]}